import{A as B,B as K,C as Q,D as M,E as C,F as T,G as X,H as Y,I as ee,J as te,K as ne,M as ie,N as y,O as oe,P as A,R as re,S as se,T as ae,U as ce,V as le,W as me,X as pe,Y as de,a as q,b as $,c as L,d as W,e as E,f as U,g as u,h as f,i as J,j as c,k as d,l as S,m as h,n as m,o,p as r,q as b,r as v,s as l,t as _,u as Z,v as a,w as D,x as R,y as P,z as H}from"./chunk-KAJSYBNW.js";var x=class n{isLoggedIn=!1;login(){this.isLoggedIn=!0}logout(){this.isLoggedIn=!1}isAuthenticated(){return this.isLoggedIn}static \u0275fac=function(t){return new(t||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};function he(n,e){if(n&1){let t=v();o(0,"div",10)(1,"button",11),l("click",function(){u(t);let s=_();return f(s.goToCreateSong())}),a(2,"Agregar Canci\xF3n"),r()()}}function Ce(n,e){if(n&1){let t=v();o(0,"div",10)(1,"button",11),l("click",function(){u(t);let s=_();return f(s.showAll())}),a(2,"Mostrar Todo"),r()()}}function ye(n,e){if(n&1){let t=v();o(0,"div",10)(1,"button",12),l("click",function(){u(t);let s=_();return f(s.goToLogin())}),b(2,"i",13),r()()}}function xe(n,e){n&1&&(o(0,"span",23),a(1,"Comod\xEDn"),r())}function we(n,e){n&1&&(o(0,"span",24),a(1,"Ofrenda"),r())}function Ie(n,e){if(n&1){let t=v();o(0,"button",25),l("click",function(){u(t);let s=_().$implicit,p=_();return f(p.goToEditSong(s))}),a(1,"Editar"),r()}}function Le(n,e){if(n&1){let t=v();o(0,"li",14)(1,"div",15)(2,"span",16),a(3),h(4,xe,2,0,"span",17)(5,we,2,0,"span",18),r(),o(6,"span",19),a(7),r()(),o(8,"div",20)(9,"button",21),l("click",function(){let s=u(t).$implicit,p=_();return f(p.goToSong(s.id))}),a(10,"Ver Acordes"),r(),h(11,Ie,2,0,"button",22),r()()}if(n&2){let t=e.$implicit,i=e.index,s=_();c(3),R(" ",t.title," "),c(),m("ngIf",i>=s.songs.length-2),c(),m("ngIf",t.title.includes("Ofrenda")),c(2),D(t.author),c(4),m("ngIf",s.isLoggedIn)}}var F=class n{constructor(e,t,i){this.songService=e;this.router=t;this.authService=i}songs=[];isLoggedIn=!1;diaSemana="";showAll(){return L(this,null,function*(){let e=yield this.songService.getSongs();this.songs=e})}ngOnInit(){return L(this,null,function*(){try{let e=yield this.songService.getSongs();this.songs=e.filter(p=>p.active===!0),console.log("Canciones obtenidas:",this.songs),this.isLoggedIn=this.authService.isAuthenticated();let t=["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],s=new Date().getDay();this.diaSemana=t[s],console.log("D\xEDa de la semana:",this.diaSemana)}catch(e){console.error("Error al cargar las canciones:",e)}})}goToSong(e){sessionStorage.setItem("selectedSongId",e.toString()),this.router.navigate(["/song"])}goToEditSong(e){this.router.navigate(["/create-song"],{queryParams:{id:e.id,title:e.title,artist:e.author,lyrics:e.lyrics}})}goToCreateSong(){this.router.navigate(["/create-song"])}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(d(A),d(y),d(x))};static \u0275cmp=S({type:n,selectors:[["app-song-list"]],decls:16,vars:5,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],["src","assets/logo iglesia blanco.png","alt","logo",1,"img-fluid",2,"max-width","40vw"],[1,"display-4","text-primary"],[1,"lead","text-secondary"],["class","text-end mb-3",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"list-group"],["class","list-group-item list-group-item-action d-flex justify-content-between align-items-center mb-2",4,"ngFor","ngForOf"],[1,"text-end","mb-3"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-box-arrow-in-right"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center","mb-2"],[1,"d-flex","flex-column","flex-grow-1"],[1,"fw-bold"],["class","badge bg-warning text-dark ms-2",4,"ngIf"],["class","badge bg-info text-dark ms-2",4,"ngIf"],[1,"text-muted"],[1,"d-flex"],[1,"btn","btn-primary","btn-sm","ms-3",3,"click"],["class","btn btn-warning btn-sm ms-2",3,"click",4,"ngIf"],[1,"badge","bg-warning","text-dark","ms-2"],[1,"badge","bg-info","text-dark","ms-2"],[1,"btn","btn-warning","btn-sm","ms-2",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1),b(2,"img",2),o(3,"h2",3),a(4,"Lista de Canciones"),r(),o(5,"p",4),a(6,"Semana Santa 2025"),r(),o(7,"p",4),a(8),r()(),h(9,he,3,0,"div",5)(10,Ce,3,0,"div",5)(11,ye,3,0,"div",5),o(12,"div",6)(13,"div",7)(14,"ul",8),h(15,Le,12,5,"li",9),r()()()()),t&2&&(c(8),R("",i.diaSemana," Santo"),c(),m("ngIf",i.isLoggedIn),c(),m("ngIf",i.isLoggedIn),c(),m("ngIf",!i.isLoggedIn),c(4),m("ngForOf",i.songs))},dependencies:[C,Q,M],encapsulation:2})};var V=class n{constructor(e,t,i){this.router=e;this.songService=t;this.sanitizer=i}previousSong(){let e=Number(sessionStorage.getItem("selectedSongId"));if(e<=1){console.error("No hay canciones anteriores. El ID debe ser mayor a 1."),alert("No hay canciones anteriores.");return}let t=e-1;sessionStorage.setItem("selectedSongId",t.toString()),window.location.reload()}nextSong(){let t=Number(sessionStorage.getItem("selectedSongId"))+1;sessionStorage.setItem("selectedSongId",t.toString()),window.location.reload()}song={};transposedLyrics="";transpositionSteps=0;ngOnInit(){return L(this,null,function*(){let e=Number(sessionStorage.getItem("selectedSongId"));if(!e){console.error("No se seleccion\xF3 ninguna canci\xF3n.");return}try{this.song=yield this.songService.getSongById(e),this.song.active===!1&&(console.error("La canci\xF3n no est\xE1 activa."),alert("No hay mas canciones para ahora."),this.router.navigate(["/"])),this.transposedLyrics=this.song.lyrics,console.log("Canci\xF3n obtenida:",this.song)}catch(t){console.error(`Error al cargar la canci\xF3n con ID ${e}:`,t)}})}get safeLyrics(){return this.sanitizer.bypassSecurityTrustHtml(this.transposedLyrics)}transposeSong(e){this.transpositionSteps+=e;let t=/(\b|\(|^)([A-G][#b]?)(maj7|m7|7|m|dim|sus4|sus2|add9|aug|6|9|11|13)?(\b|\)|$|\/)/g;this.transposedLyrics=this.song.lyrics.replace(t,(i,s,p,g,k)=>{let be=this.transposeChord(p,this.transpositionSteps);return`${s}<span class="chord">${be}${g||""}</span>${k}`})}transposeChord(e,t){let i=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],s={"B#":"C",Cb:"B","E#":"F",Fb:"E","G##":"A",Abb:"G","D##":"E",Ebb:"D","A##":"B",Bbb:"A","C##":"D",Dbb:"C","F##":"G",Gbb:"F"};s[e]&&(e=s[e]);let p=i.indexOf(e);if(p===-1)return e;let g=(p+t+i.length)%i.length,k=i[g];return s[k]||k}increaseFontSize(){let e=document.querySelector(".lyrics");if(e){let t=parseFloat(getComputedStyle(e).fontSize);e.style.fontSize=`${t+2}px`}}decreaseFontSize(){let e=document.querySelector(".lyrics");if(e){let t=parseFloat(getComputedStyle(e).fontSize);e.style.fontSize=`${t-2}px`}}goBack(){window.history.back()}static \u0275fac=function(t){return new(t||n)(d(y),d(A),d(ee))};static \u0275cmp=S({type:n,selectors:[["app-song-detail"]],decls:25,vars:2,consts:[[1,"container","d-flex","flex-column","align-items-center"],[1,"text-center"],[1,"display-4","text-primary"],[1,"controls","text-center","mb-2"],[1,"btn","btn-success","btn-sm","me-1",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"aumentar-texto","text-center","mb-2"],[1,"btn","btn-secondary","btn-sm","me-1",3,"click"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"lyrics","bg-light","rounded","border","text-center",3,"innerHTML"],[1,"button-group","mb-2","d-flex","justify-content-center","gap-2","mb-2"],[1,"btn","btn-danger","btn-sm","me-1",3,"click"],[1,"btn","btn-primary","btn-sm","me-1",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),a(3),r()(),o(4,"div",3)(5,"button",4),l("click",function(){return i.transposeSong(1)}),a(6,"Subir (+1)"),r(),o(7,"button",5),l("click",function(){return i.transposeSong(-1)}),a(8,"Bajar (-1)"),r()(),o(9,"div",6)(10,"button",7),l("click",function(){return i.increaseFontSize()}),a(11,"+A"),r(),o(12,"button",8),l("click",function(){return i.decreaseFontSize()}),a(13,"-A"),r()(),b(14,"pre",9),o(15,"div",10)(16,"div",1)(17,"button",11),l("click",function(){return i.goBack()}),a(18,"Regresar a la lista de canciones"),r()(),o(19,"div",1)(20,"button",12),l("click",function(){return i.nextSong()}),a(21,"Siguiente Canci\xF3n ->"),r()(),o(22,"div",1)(23,"button",12),l("click",function(){return i.previousSong()}),a(24,"Canci\xF3n Anterior <-"),r()()()()),t&2&&(c(3),D(i.song==null?null:i.song.title),c(11),m("innerHTML",i.safeLyrics,J))},styles:["pre[_ngcontent-%COMP%]{height:75vh;width:100%;display:block;overflow:auto;background-color:#f8f9fa;align-items:center;padding:1rem;border-radius:.5rem;max-height:80vh}.container[_ngcontent-%COMP%]{margin:0;padding:0;overflow:hidden;max-height:100vh}.lyrics[_ngcontent-%COMP%]{white-space:pre-wrap;font-family:inherit}.lyrics[_ngcontent-%COMP%]   .chord[_ngcontent-%COMP%]{color:red;font-weight:700}[_nghost-%COMP%]{display:flex;justify-content:center;max-height:90vh}"]})};var j=class n{constructor(e,t){this.router=e;this.authService=t}username="";password="";onSubmit(){this.username==="admin"&&this.password==="admin"?(this.authService.login(),alert("Inicio de sesi\xF3n exitoso"),this.router.navigate(["/"])):alert("Usuario o contrase\xF1a incorrectos")}static \u0275fac=function(t){return new(t||n)(d(y),d(x))};static \u0275cmp=S({type:n,selectors:[["app-login"]],decls:16,vars:3,consts:[["loginForm","ngForm"],[1,"container","my-5","d-flex","justify-content-center","align-items-center",2,"min-height","100vh"],[1,"card","p-4","shadow",2,"width","100%","max-width","400px"],[1,"text-center","text-primary","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(t,i){if(t&1){let s=v();o(0,"div",1)(1,"div",2)(2,"h2",3),a(3,"Iniciar Sesi\xF3n"),r(),o(4,"form",4,0),l("ngSubmit",function(){return u(s),f(i.onSubmit())}),o(6,"div",5)(7,"label",6),a(8,"Usuario"),r(),o(9,"input",7),B("ngModelChange",function(g){return u(s),H(i.username,g)||(i.username=g),f(g)}),r()(),o(10,"div",5)(11,"label",8),a(12,"Contrase\xF1a"),r(),o(13,"input",9),B("ngModelChange",function(g){return u(s),H(i.password,g)||(i.password=g),f(g)}),r()(),o(14,"button",10),a(15," Iniciar Sesi\xF3n "),r()()()()}if(t&2){let s=Z(5);c(9),P("ngModel",i.username),c(4),P("ngModel",i.password),c(),m("disabled",!s.valid)}},dependencies:[C,de,me,re,se,ae,pe,le,ce],styles:[".container[_ngcontent-%COMP%]{background-color:#f8f9fa}.card[_ngcontent-%COMP%]{border-radius:.5rem}[_nghost-%COMP%]{display:flex;justify-content:center;max-height:90vh}"]})};var fe=[{path:"",component:F},{path:"song",component:V,data:{renderMode:"client-only"}},{path:"create-song",loadComponent:()=>import("./chunk-ZFJ5IZ7E.js").then(n=>n.CreateSongComponent)},{path:"login",component:j}];var G={providers:[K({eventCoalescing:!0}),oe(fe),ne(te()),T()]};var I=class n{loading=!1;constructor(){}setLoading(e){this.loading=e}getLoading(){return this.loading}static \u0275fac=function(t){return new(t||n)};static \u0275prov=E({token:n,factory:n.\u0275fac,providedIn:"root"})};function Ee(n,e){n&1&&(o(0,"div",1),b(1,"div",2),r())}var z=class n{constructor(e){this.loader=e}static \u0275fac=function(t){return new(t||n)(d(I))};static \u0275cmp=S({type:n,selectors:[["app-spinner"]],decls:1,vars:1,consts:[["class","cssload-container",4,"ngIf"],[1,"cssload-container"],[1,"cssload-speeding-wheel"]],template:function(t,i){t&1&&h(0,Ee,2,0,"div",0),t&2&&m("ngIf",i.loader.getLoading())},dependencies:[C,M],styles:[`.cssload-container{position:fixed;width:100%;inset:0;background-color:#ffffffb3;z-index:9999}img{width:200px}.cssload-speeding-wheel{content:"";display:block;position:absolute;left:48%;top:40%;width:63px;height:63px;margin:0 auto;border:4px solid rgb(0,0,0);border-radius:50%;border-left-color:transparent;border-right-color:transparent;animation:cssload-spin .5s infinite linear;-o-animation:cssload-spin .5s infinite linear;-ms-animation:cssload-spin .5s infinite linear;-webkit-animation:cssload-spin .5s infinite linear;-moz-animation:cssload-spin .5s infinite linear}@keyframes cssload-spin{to{transform:rotate(360deg)}}@-o-keyframes cssload-spin{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@-ms-keyframes cssload-spin{to{-ms-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes cssload-spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes cssload-spin{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}
`],encapsulation:3})};var O=class n{title="ministerioAlabanza";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=S({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[2,"text-align","center","padding","1rem","background-color","#f8f9fa","border-top","1px solid #e9ecef"]],template:function(t,i){t&1&&(b(0,"app-spinner")(1,"router-outlet"),o(2,"footer",0)(3,"p"),a(4,"\xA9 2025 Manuel Alvarado. Todos los derechos reservados."),r()())},dependencies:[ie,z],encapsulation:2})};var Se=(n,e)=>{let t=U(I);return t.setLoading(!0),e(n).pipe(W(()=>{t.setLoading(!1)}))};var De=$(q({},G),{providers:[...G.providers||[],T(X([Se]))]});Y(O,De).catch(n=>console.error(n));
