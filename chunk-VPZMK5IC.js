import{$ as T,A as C,B as s,C as c,D as d,H as y,P as S,R as b,U as _,V as M,W as v,X as w,Y as E,Z as W,_ as k,aa as I,ba as P,m as a,n as g,o as f,r as n,s as o,v as u,y as r,z as h}from"./chunk-QGBBTBCL.js";var A=class p{constructor(i,m,e){this.songService=i;this.route=m;this.router=e}id=null;title="";artist="";lyrics="";active=!0;ofrenda=!1;comodin=!1;ngOnInit(){this.route.queryParams.subscribe(i=>{i.id&&(this.id=+i.id),i.title&&(this.title=i.title),i.artist&&(this.artist=i.artist),i.lyrics&&(this.lyrics=i.lyrics)})}onSubmit(){this.title&&this.artist&&this.lyrics?this.id?this.songService.updateSong(this.id,this.title,this.artist,this.lyrics,this.active,this.ofrenda,this.comodin).then(i=>{console.log("Canci\xF3n actualizada:",i),alert("Canci\xF3n actualizada exitosamente"),this.router.navigate(["/songs"])}).catch(i=>{console.error("Error al actualizar la canci\xF3n:",i),alert(i.error.message||"Error al actualizar la canci\xF3n")}):this.songService.createSong(this.title,this.artist,this.lyrics,this.active,this.ofrenda,this.comodin).then(i=>{console.log("Canci\xF3n creada:",i),alert("Canci\xF3n creada exitosamente"),this.router.navigate(["/songs"])}).catch(i=>{console.error("Error al crear la canci\xF3n:",i),alert(i.error.message||"Error al crear la canci\xF3n")}):alert("Por favor, completa todos los campos.")}goBack(){this.router.navigate(["/"])}static \u0275fac=function(m){return new(m||p)(g(_),g(S),g(b))};static \u0275cmp=f({type:p,selectors:[["app-create-song"]],decls:32,vars:8,consts:[[1,"container","my-5"],[1,"text-center","text-primary"],[3,"ngSubmit"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","name","title","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","artist",1,"form-label"],["type","text","id","artist","name","artist","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","lyrics",1,"form-label"],["id","lyrics","name","lyrics","rows","5","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","chords",1,"form-label"],["type","checkbox","id","active","name","active",1,"form-check-input",3,"ngModelChange","ngModel"],["for","comodin",1,"form-label"],["type","checkbox","id","comodin","name","comodin",1,"form-check-input",3,"ngModelChange","ngModel"],["for","ofrenda",1,"form-label"],["type","checkbox","id","ofrenda","name","ofrenda",1,"form-check-input",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success","w-100"],["type","button",1,"btn","btn-secondary","w-100","mt-2",3,"click"]],template:function(m,e){m&1&&(n(0,"div",0)(1,"h2",1),r(2),o(),n(3,"form",2),u("ngSubmit",function(){return e.onSubmit()}),n(4,"div",3)(5,"label",4),r(6,"T\xEDtulo"),o(),n(7,"input",5),d("ngModelChange",function(t){return c(e.title,t)||(e.title=t),t}),o()(),n(8,"div",3)(9,"label",6),r(10,"Artista"),o(),n(11,"input",7),d("ngModelChange",function(t){return c(e.artist,t)||(e.artist=t),t}),o()(),n(12,"div",3)(13,"label",8),r(14,"Letra"),o(),n(15,"textarea",9),d("ngModelChange",function(t){return c(e.lyrics,t)||(e.lyrics=t),t}),o()(),n(16,"div",3)(17,"label",10),r(18,"Habilitar"),o(),n(19,"input",11),d("ngModelChange",function(t){return c(e.active,t)||(e.active=t),t}),o()(),n(20,"div",3)(21,"label",12),r(22,"Comod\xEDn"),o(),n(23,"input",13),d("ngModelChange",function(t){return c(e.comodin,t)||(e.comodin=t),t}),o()(),n(24,"div",3)(25,"label",14),r(26,"Ofrenda"),o(),n(27,"input",15),d("ngModelChange",function(t){return c(e.ofrenda,t)||(e.ofrenda=t),t}),o()(),n(28,"button",16),r(29),o(),n(30,"button",17),u("click",function(){return e.goBack()}),r(31,"Regresar"),o()()()),m&2&&(a(2),h(e.id?"Actualizar Canci\xF3n":"Crear Canci\xF3n"),a(5),s("ngModel",e.title),a(4),s("ngModel",e.artist),a(4),s("ngModel",e.lyrics),a(4),s("ngModel",e.active),a(4),s("ngModel",e.comodin),a(4),s("ngModel",e.ofrenda),a(2),C(" ",e.id?"Actualizar Canci\xF3n":"Crear Canci\xF3n"," "))},dependencies:[y,P,T,v,M,w,E,I,k,W],encapsulation:2})};export{A as CreateSongComponent};
