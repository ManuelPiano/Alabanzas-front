import{A as d,E as S,L as y,N as v,P as b,Q as _,R as M,S as w,T as E,U as W,V as I,W as k,X as A,Y as N,j as a,k as g,l as C,o as n,p as r,s as u,v as o,w as f,x as h,y as c,z as m}from"./chunk-O6VDQ75Q.js";var R=class p{constructor(e,l,t){this.songService=e;this.route=l;this.router=t}id=null;title="";artist="";lyrics="";active=!0;ngOnInit(){this.route.queryParams.subscribe(e=>{e.id&&(this.id=+e.id),e.title&&(this.title=e.title),e.artist&&(this.artist=e.artist),e.lyrics&&(this.lyrics=e.lyrics)})}onSubmit(){this.title&&this.artist&&this.lyrics?this.id?this.songService.updateSong(this.id,this.title,this.artist,this.lyrics,this.active).then(e=>{console.log("Canci\xF3n actualizada:",e),alert("Canci\xF3n actualizada exitosamente"),this.router.navigate(["/songs"])}).catch(e=>{console.error("Error al actualizar la canci\xF3n:",e),alert(e.error.message||"Error al actualizar la canci\xF3n")}):this.songService.createSong(this.title,this.artist,this.lyrics,this.active).then(e=>{console.log("Canci\xF3n creada:",e),alert("Canci\xF3n creada exitosamente"),this.router.navigate(["/songs"])}).catch(e=>{console.error("Error al crear la canci\xF3n:",e),alert(e.error.message||"Error al crear la canci\xF3n")}):alert("Por favor, completa todos los campos.")}goBack(){this.router.navigate(["/"])}static \u0275fac=function(l){return new(l||p)(g(b),g(y),g(v))};static \u0275cmp=C({type:p,selectors:[["app-create-song"]],decls:24,vars:6,consts:[[1,"container","my-5"],[1,"text-center","text-primary"],[3,"ngSubmit"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","name","title","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","artist",1,"form-label"],["type","text","id","artist","name","artist","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","lyrics",1,"form-label"],["id","lyrics","name","lyrics","rows","5","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","chords",1,"form-label"],["type","checkbox","id","active","name","active",1,"form-check-input",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success","w-100"],["type","button",1,"btn","btn-secondary","w-100","mt-2",3,"click"]],template:function(l,t){l&1&&(n(0,"div",0)(1,"h2",1),o(2),r(),n(3,"form",2),u("ngSubmit",function(){return t.onSubmit()}),n(4,"div",3)(5,"label",4),o(6,"T\xEDtulo"),r(),n(7,"input",5),d("ngModelChange",function(i){return m(t.title,i)||(t.title=i),i}),r()(),n(8,"div",3)(9,"label",6),o(10,"Artista"),r(),n(11,"input",7),d("ngModelChange",function(i){return m(t.artist,i)||(t.artist=i),i}),r()(),n(12,"div",3)(13,"label",8),o(14,"Letra"),r(),n(15,"textarea",9),d("ngModelChange",function(i){return m(t.lyrics,i)||(t.lyrics=i),i}),r()(),n(16,"div",3)(17,"label",10),o(18,"Habilitar"),r(),n(19,"input",11),d("ngModelChange",function(i){return m(t.active,i)||(t.active=i),i}),r()(),n(20,"button",12),o(21),r(),n(22,"button",13),u("click",function(){return t.goBack()}),o(23,"Regresar"),r()()()),l&2&&(a(2),f(t.id?"Actualizar Canci\xF3n":"Crear Canci\xF3n"),a(5),c("ngModel",t.title),a(4),c("ngModel",t.artist),a(4),c("ngModel",t.lyrics),a(4),c("ngModel",t.active),a(2),h(" ",t.id?"Actualizar Canci\xF3n":"Crear Canci\xF3n"," "))},dependencies:[S,N,k,M,_,w,E,A,I,W],encapsulation:2})};export{R as CreateSongComponent};
