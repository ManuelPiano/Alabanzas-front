import{A as m,E as S,L as y,N as v,P as b,Q as M,R as _,S as w,T as E,U as W,V as I,W as A,X as N,Y as F,j as o,k as g,l as p,o as n,p as r,s as C,v as a,w as f,x as h,y as s,z as c}from"./chunk-O6VDQ75Q.js";var P=class u{constructor(e,l,t){this.songService=e;this.route=l;this.router=t}id=null;title="";artist="";lyrics="";active=!0;ngOnInit(){this.route.queryParams.subscribe(e=>{e.id&&(this.id=+e.id),e.title&&(this.title=e.title),e.artist&&(this.artist=e.artist),e.lyrics&&(this.lyrics=e.lyrics)})}onSubmit(){this.title&&this.artist&&this.lyrics?this.id?this.songService.updateSong(this.id,this.title,this.artist,this.lyrics,this.active).then(e=>{console.log("Canci\xF3n actualizada:",e),alert("Canci\xF3n actualizada exitosamente"),this.router.navigate(["/songs"])}).catch(e=>{console.error("Error al actualizar la canci\xF3n:",e),alert(e.error.message||"Error al actualizar la canci\xF3n")}):this.songService.createSong(this.title,this.artist,this.lyrics,this.active).then(e=>{console.log("Canci\xF3n creada:",e),alert("Canci\xF3n creada exitosamente"),this.router.navigate(["/songs"])}).catch(e=>{console.error("Error al crear la canci\xF3n:",e),alert(e.error.message||"Error al crear la canci\xF3n")}):alert("Por favor, completa todos los campos.")}static \u0275fac=function(l){return new(l||u)(g(b),g(y),g(v))};static \u0275cmp=p({type:u,selectors:[["app-create-song"]],decls:22,vars:6,consts:[[1,"container","my-5"],[1,"text-center","text-primary"],[3,"ngSubmit"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","name","title","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","artist",1,"form-label"],["type","text","id","artist","name","artist","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","lyrics",1,"form-label"],["id","lyrics","name","lyrics","rows","5","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","chords",1,"form-label"],["type","checkbox","id","active","name","active",1,"form-check-input",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-success","w-100"]],template:function(l,t){l&1&&(n(0,"div",0)(1,"h2",1),a(2),r(),n(3,"form",2),C("ngSubmit",function(){return t.onSubmit()}),n(4,"div",3)(5,"label",4),a(6,"T\xEDtulo"),r(),n(7,"input",5),m("ngModelChange",function(i){return c(t.title,i)||(t.title=i),i}),r()(),n(8,"div",3)(9,"label",6),a(10,"Artista"),r(),n(11,"input",7),m("ngModelChange",function(i){return c(t.artist,i)||(t.artist=i),i}),r()(),n(12,"div",3)(13,"label",8),a(14,"Letra"),r(),n(15,"textarea",9),m("ngModelChange",function(i){return c(t.lyrics,i)||(t.lyrics=i),i}),r()(),n(16,"div",3)(17,"label",10),a(18,"Habilitar"),r(),n(19,"input",11),m("ngModelChange",function(i){return c(t.active,i)||(t.active=i),i}),r()(),n(20,"button",12),a(21),r()()()),l&2&&(o(2),f(t.id?"Actualizar Canci\xF3n":"Crear Canci\xF3n"),o(5),s("ngModel",t.title),o(4),s("ngModel",t.artist),o(4),s("ngModel",t.lyrics),o(4),s("ngModel",t.active),o(2),h(" ",t.id?"Actualizar Canci\xF3n":"Crear Canci\xF3n"," "))},dependencies:[S,F,A,_,M,w,E,N,I,W],encapsulation:2})};export{P as CreateSongComponent};
