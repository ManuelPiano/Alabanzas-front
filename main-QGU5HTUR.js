import{A as G,B as Q,C as X,D as M,E as x,F as T,G as Y,H as ee,I as te,J as ne,K as ie,L as oe,M as re,N as w,O as se,P as A,R as ae,S as ce,T as le,U as me,V as pe,W as de,X as ge,Y as ue,a as W,b as $,c as R,d as U,e as C,f as J,g as u,h as f,i as Z,j as l,k as m,l as S,m as _,n as d,o,p as r,q as b,r as v,s as p,t as h,u as K,v as a,w as E,x as P,y as H,z as B}from"./chunk-IED7GDLQ.js";var I=class n{isLoggedIn=!1;login(){this.isLoggedIn=!0}logout(){this.isLoggedIn=!1}isAuthenticated(){return this.isLoggedIn}static \u0275fac=function(t){return new(t||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})};var L=class n{songs=[];currentSong;setSongs(e){this.songs=e}getSongs(){return this.songs}setSong(e){this.currentSong=e}getSong(){return this.currentSong}static \u0275fac=function(t){return new(t||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})};function xe(n,e){if(n&1){let t=v();o(0,"div",10)(1,"button",11),p("click",function(){u(t);let s=h();return f(s.goToCreateSong())}),a(2,"Agregar Canci\xF3n"),r()()}}function we(n,e){if(n&1){let t=v();o(0,"div",10)(1,"button",11),p("click",function(){u(t);let s=h();return f(s.showAll())}),a(2,"Mostrar Todo"),r()()}}function Ie(n,e){if(n&1){let t=v();o(0,"div",10)(1,"button",12),p("click",function(){u(t);let s=h();return f(s.goToLogin())}),b(2,"i",13),r()()}}function Le(n,e){n&1&&(o(0,"span",23),a(1,"Comod\xEDn"),r())}function ke(n,e){n&1&&(o(0,"span",24),a(1,"Ofrenda"),r())}function De(n,e){if(n&1){let t=v();o(0,"button",25),p("click",function(){u(t);let s=h().$implicit,c=h();return f(c.goToEditSong(s))}),a(1,"Editar"),r()}}function Ee(n,e){if(n&1){let t=v();o(0,"li",14)(1,"div",15)(2,"span",16),a(3),_(4,Le,2,0,"span",17)(5,ke,2,0,"span",18),r(),o(6,"span",19),a(7),r()(),o(8,"div",20)(9,"button",21),p("click",function(){let s=u(t).$implicit,c=h();return f(c.goToSong(s))}),a(10,"Ver Acordes"),r(),_(11,De,2,0,"button",22),r()()}if(n&2){let t=e.$implicit,i=h();l(3),P(" ",t.title," "),l(),d("ngIf",t.comodin),l(),d("ngIf",t.ofrenda),l(2),E(t.author),l(4),d("ngIf",i.isLoggedIn)}}var F=class n{constructor(e,t,i,s){this.songService=e;this.router=t;this.authService=i;this.songDataService=s}songs=[];isLoggedIn=!1;diaSemana="";showAll(){return R(this,null,function*(){let e=yield this.songService.getSongs();this.songs=e})}ngOnInit(){return R(this,null,function*(){try{let e=yield this.songService.getSongs();this.songs=e.filter(c=>c.active===!0),this.songs.sort((c,g)=>!c.comodin&&!c.ofrenda?-1:c.ofrenda&&!c.comodin?1:c.comodin?2:0),this.songDataService.setSongs(this.songs),console.log("Canciones obtenidas:",this.songs),this.isLoggedIn=this.authService.isAuthenticated();let t=["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],s=new Date().getDay();this.diaSemana=t[s],console.log("D\xEDa de la semana:",this.diaSemana)}catch(e){console.error("Error al cargar las canciones:",e)}})}goToSong(e){this.songDataService.setSong(e),this.router.navigate(["/song"])}goToEditSong(e){this.router.navigate(["/create-song"],{queryParams:{id:e.id,title:e.title,artist:e.author,lyrics:e.lyrics}})}goToCreateSong(){this.router.navigate(["/create-song"])}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(m(A),m(w),m(I),m(L))};static \u0275cmp=S({type:n,selectors:[["app-song-list"]],decls:16,vars:5,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],["src","assets/logo iglesia blanco.png","alt","logo",1,"img-fluid",2,"max-width","40vw"],[1,"display-4","text-primary"],[1,"lead","text-secondary"],["class","text-end mb-3",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"list-group"],["class","list-group-item list-group-item-action d-flex justify-content-between align-items-center mb-2",4,"ngFor","ngForOf"],[1,"text-end","mb-3"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-box-arrow-in-right"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center","mb-2"],[1,"d-flex","flex-column","flex-grow-1"],[1,"fw-bold"],["class","badge bg-warning text-dark ms-2",4,"ngIf"],["class","badge bg-info text-dark ms-2",4,"ngIf"],[1,"text-muted"],[1,"d-flex"],[1,"btn","btn-primary","btn-sm","ms-3",3,"click"],["class","btn btn-warning btn-sm ms-2",3,"click",4,"ngIf"],[1,"badge","bg-warning","text-dark","ms-2"],[1,"badge","bg-info","text-dark","ms-2"],[1,"btn","btn-warning","btn-sm","ms-2",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1),b(2,"img",2),o(3,"h2",3),a(4,"Lista de Canciones"),r(),o(5,"p",4),a(6,"Semana Santa 2025"),r(),o(7,"p",4),a(8),r()(),_(9,xe,3,0,"div",5)(10,we,3,0,"div",5)(11,Ie,3,0,"div",5),o(12,"div",6)(13,"div",7)(14,"ul",8),_(15,Ee,12,5,"li",9),r()()()()),t&2&&(l(8),P("",i.diaSemana," Santo"),l(),d("ngIf",i.isLoggedIn),l(),d("ngIf",i.isLoggedIn),l(),d("ngIf",!i.isLoggedIn),l(4),d("ngForOf",i.songs))},dependencies:[x,X,M],encapsulation:2})};var j=class n{constructor(e,t,i,s,c){this.router=e;this.songService=t;this.sanitizer=i;this.route=s;this.songDataService=c}previousSong(){}nextSong(){let e=this.songDataService.getSongs();console.log("Lista de canciones:",e),console.log("ID de la canci\xF3n actual:",this.song.id);let t=e.findIndex(s=>s.id===this.song.id);console.log("\xCDndice de la canci\xF3n actual:",t),(t===-1||t===e.length-1)&&(console.error("No hay m\xE1s canciones disponibles."),alert("No hay m\xE1s canciones disponibles."),this.router.navigate(["/"]));let i=e[t+1];this.songDataService.setSong(i),console.log("Siguiente canci\xF3n:",i),this.song=i,this.transposedLyrics=i.lyrics}song={};transposedLyrics="";transpositionSteps=0;ngOnInit(){this.song=this.songDataService.getSong(),this.song?(console.log("Canci\xF3n obtenida:",this.song),this.transposedLyrics=this.song.lyrics):(console.error("No se proporcionaron datos de la canci\xF3n."),this.router.navigate(["/"]))}get safeLyrics(){return this.sanitizer.bypassSecurityTrustHtml(this.transposedLyrics)}transposeSong(e){this.transpositionSteps+=e;let t=/(\b|\(|^)([A-G][#b]?)(maj7|m7|7|m|dim|sus4|sus2|add9|aug|6|9|11|13)?(\b|\)|$|\/)/g;this.transposedLyrics=this.song.lyrics.replace(t,(i,s,c,g,D)=>{let _e=this.transposeChord(c,this.transpositionSteps);return`${s}<span class="chord">${_e}${g||""}</span>${D}`})}transposeChord(e,t){let i=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],s={"B#":"C",Cb:"B","E#":"F",Fb:"E","G##":"A",Abb:"G","D##":"E",Ebb:"D","A##":"B",Bbb:"A","C##":"D",Dbb:"C","F##":"G",Gbb:"F"};s[e]&&(e=s[e]);let c=i.indexOf(e);if(c===-1)return e;let g=(c+t+i.length)%i.length,D=i[g];return s[D]||D}increaseFontSize(){let e=document.querySelector(".lyrics");if(e){let t=parseFloat(getComputedStyle(e).fontSize);e.style.fontSize=`${t+2}px`}}decreaseFontSize(){let e=document.querySelector(".lyrics");if(e){let t=parseFloat(getComputedStyle(e).fontSize);e.style.fontSize=`${t-2}px`}}goBack(){window.history.back()}static \u0275fac=function(t){return new(t||n)(m(w),m(A),m(te),m(oe),m(L))};static \u0275cmp=S({type:n,selectors:[["app-song-detail"]],decls:25,vars:2,consts:[[1,"container","d-flex","flex-column","align-items-center"],[1,"text-center"],[1,"display-4","text-primary"],[1,"controls","text-center","mb-2"],[1,"btn","btn-success","btn-sm","me-1",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"aumentar-texto","text-center","mb-2"],[1,"btn","btn-secondary","btn-sm","me-1",3,"click"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"lyrics","bg-light","rounded","border","text-center",3,"innerHTML"],[1,"button-group","mb-2","d-flex","justify-content-center","gap-2","mb-2"],[1,"btn","btn-danger","btn-sm","me-1",3,"click"],[1,"btn","btn-primary","btn-sm","me-1",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),a(3),r()(),o(4,"div",3)(5,"button",4),p("click",function(){return i.transposeSong(1)}),a(6,"Subir (+1)"),r(),o(7,"button",5),p("click",function(){return i.transposeSong(-1)}),a(8,"Bajar (-1)"),r()(),o(9,"div",6)(10,"button",7),p("click",function(){return i.increaseFontSize()}),a(11,"+A"),r(),o(12,"button",8),p("click",function(){return i.decreaseFontSize()}),a(13,"-A"),r()(),b(14,"pre",9),o(15,"div",10)(16,"div",1)(17,"button",11),p("click",function(){return i.goBack()}),a(18,"Regresar a la lista de canciones"),r()(),o(19,"div",1)(20,"button",12),p("click",function(){return i.nextSong()}),a(21,"Siguiente Canci\xF3n ->"),r()(),o(22,"div",1)(23,"button",12),p("click",function(){return i.previousSong()}),a(24,"Canci\xF3n Anterior <-"),r()()()()),t&2&&(l(3),E(i.song==null?null:i.song.title),l(11),d("innerHTML",i.safeLyrics,Z))},styles:["pre[_ngcontent-%COMP%]{height:75vh;width:100%;display:block;overflow:auto;background-color:#f8f9fa;align-items:center;padding:1rem;border-radius:.5rem;max-height:80vh}.container[_ngcontent-%COMP%]{margin:0;padding:0;overflow:hidden;max-height:100vh}.lyrics[_ngcontent-%COMP%]{white-space:pre-wrap;font-family:inherit}.lyrics[_ngcontent-%COMP%]   .chord[_ngcontent-%COMP%]{color:red;font-weight:700}[_nghost-%COMP%]{display:flex;justify-content:center;max-height:90vh}"]})};var N=class n{constructor(e,t){this.router=e;this.authService=t}username="";password="";onSubmit(){this.username==="admin"&&this.password==="admin"?(this.authService.login(),alert("Inicio de sesi\xF3n exitoso"),this.router.navigate(["/"])):alert("Usuario o contrase\xF1a incorrectos")}static \u0275fac=function(t){return new(t||n)(m(w),m(I))};static \u0275cmp=S({type:n,selectors:[["app-login"]],decls:16,vars:3,consts:[["loginForm","ngForm"],[1,"container","my-5","d-flex","justify-content-center","align-items-center",2,"min-height","100vh"],[1,"card","p-4","shadow",2,"width","100%","max-width","400px"],[1,"text-center","text-primary","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(t,i){if(t&1){let s=v();o(0,"div",1)(1,"div",2)(2,"h2",3),a(3,"Iniciar Sesi\xF3n"),r(),o(4,"form",4,0),p("ngSubmit",function(){return u(s),f(i.onSubmit())}),o(6,"div",5)(7,"label",6),a(8,"Usuario"),r(),o(9,"input",7),G("ngModelChange",function(g){return u(s),B(i.username,g)||(i.username=g),f(g)}),r()(),o(10,"div",5)(11,"label",8),a(12,"Contrase\xF1a"),r(),o(13,"input",9),G("ngModelChange",function(g){return u(s),B(i.password,g)||(i.password=g),f(g)}),r()(),o(14,"button",10),a(15," Iniciar Sesi\xF3n "),r()()()()}if(t&2){let s=K(5);l(9),H("ngModel",i.username),l(4),H("ngModel",i.password),l(),d("disabled",!s.valid)}},dependencies:[x,ue,de,ae,ce,le,ge,pe,me],styles:[".container[_ngcontent-%COMP%]{background-color:#f8f9fa}.card[_ngcontent-%COMP%]{border-radius:.5rem}[_nghost-%COMP%]{display:flex;justify-content:center;max-height:90vh}"]})};var ve=[{path:"",component:F},{path:"song",component:j,data:{renderMode:"client-only"}},{path:"create-song",loadComponent:()=>import("./chunk-QEABLEX7.js").then(n=>n.CreateSongComponent)},{path:"login",component:N}];var q={providers:[Q({eventCoalescing:!0}),se(ve),ie(ne()),T()]};var k=class n{loading=!1;constructor(){}setLoading(e){this.loading=e}getLoading(){return this.loading}static \u0275fac=function(t){return new(t||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})};function Te(n,e){n&1&&(o(0,"div",1),b(1,"div",2),r())}var z=class n{constructor(e){this.loader=e}static \u0275fac=function(t){return new(t||n)(m(k))};static \u0275cmp=S({type:n,selectors:[["app-spinner"]],decls:1,vars:1,consts:[["class","cssload-container",4,"ngIf"],[1,"cssload-container"],[1,"cssload-speeding-wheel"]],template:function(t,i){t&1&&_(0,Te,2,0,"div",0),t&2&&d("ngIf",i.loader.getLoading())},dependencies:[x,M],styles:[`.cssload-container{position:fixed;width:100%;inset:0;background-color:#ffffffb3;z-index:9999}img{width:200px}.cssload-speeding-wheel{content:"";display:block;position:absolute;left:48%;top:40%;width:63px;height:63px;margin:0 auto;border:4px solid rgb(0,0,0);border-radius:50%;border-left-color:transparent;border-right-color:transparent;animation:cssload-spin .5s infinite linear;-o-animation:cssload-spin .5s infinite linear;-ms-animation:cssload-spin .5s infinite linear;-webkit-animation:cssload-spin .5s infinite linear;-moz-animation:cssload-spin .5s infinite linear}@keyframes cssload-spin{to{transform:rotate(360deg)}}@-o-keyframes cssload-spin{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@-ms-keyframes cssload-spin{to{-ms-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes cssload-spin{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes cssload-spin{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}
`],encapsulation:3})};var O=class n{title="ministerioAlabanza";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=S({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[2,"text-align","center","padding","1rem","background-color","#f8f9fa","border-top","1px solid #e9ecef"]],template:function(t,i){t&1&&(b(0,"app-spinner")(1,"router-outlet"),o(2,"footer",0)(3,"p"),a(4,"\xA9 2025 Manuel Alvarado. Todos los derechos reservados."),r()())},dependencies:[re,z],encapsulation:2})};var he=(n,e)=>{let t=J(k);return t.setLoading(!0),e(n).pipe(U(()=>{t.setLoading(!1)}))};var Ae=$(W({},q),{providers:[...q.providers||[],T(Y([he]))]});ee(O,Ae).catch(n=>console.error(n));
